var dataDeployInter={v:{jsonData:null,formId:"deployForm",tableId:"deployListTable",webCrawlerId:null,siteId:null,index:1},fn:{init:function(){$("#"+dataDeployInter.v.formId).find("#fileSavePluginRegex").val("<\\s*img[^<]+src=[\"'](.*?)[\"'][^<]*?>");dataDeployInter.fn.advancedSettings()},showTable:function(b,a){var e=b.checked;var d="none";if(e){d="block"}var c=$(b).closest("form");var f=c.attr("id");$("#"+f).find("#"+a).css({display:d})},changeRulesVer:function(id){$("#"+dataDeployInter.v.formId).find("#rulesLabel").children().remove();if(id==null||id===""){$("#"+dataDeployInter.v.formId).find("#initDeployParams").text("");$("#"+dataDeployInter.v.formId).find("select[name='cus_label']").children().not(":eq(0)").remove();return}jsonrpc.crawlRulesService.query(function(result,exception,profile){$("#"+dataDeployInter.v.formId).find("#rulesLabel").append("<option value=''></option>");var data=result;data=eval(data);var tempParams="";for(var i in data){if(isNaN(i)){continue}var name=data[i]["name"];if(data[i]["labelType"]=="2"||data[i]["labelType"]=="4"||data[i]["isOffset"]=="true"||data[i]["isTemp"]=="true"){continue}if(tempParams!=""){tempParams=tempParams+"&"}tempParams=tempParams+"PARAM"+i+"=${"+name+"}";$("#"+dataDeployInter.v.formId).find("#rulesLabel").append("<option value='"+name+"'>"+name+"</option>")}$("#"+dataDeployInter.v.formId).find("#initDeployParams").text(tempParams);fillLabelWithName(dataDeployInter.v.formId,"cus_label",id,false)},dataDeployInter.v.webCrawlerId,dataDeployInter.v.siteId,id)},changeRulesLabel:function(a){$("#"+dataDeployInter.v.formId).find("#labelByURL").val(a)},query:function(){if(dataDeployInter.v.siteId==null){showInfo(nc.i18n("res.site.select"));return}moveAllTr(dataDeployInter.v.tableId);queryLoading(dataDeployInter.v.tableId);jsonrpc.dataDeployService.query(function(result,exception,profile){if(exception){removeLoading($("#"+dataDeployInter.v.formId));return}moveAllTr(dataDeployInter.v.tableId);var data=result;data=eval(data);dataDeployInter.v.jsonData=data;for(var i in data){if(isNaN(i)){continue}var id=data[i]["id"];var name=data[i]["name"];var when=data[i]["when"];var where=data[i]["where"];var deployUrl=data[i]["deployUrl"];var deployParams=data[i]["deployParams"];var httpRequestId=data[i]["httpRequestId"];var deployPluginId=data[i]["deployPluginId"];var emailNoticeId=data[i]["emailNoticeId"];var updateStatus=data[i]["updateStatus"];var isUploadImage=data[i]["isUploadImage"];var message=data[i]["message"];var status=data[i]["status"];var siteIdByURL=data[i]["siteIdByURL"];var labelByURL=data[i]["labelByURL"];dataDeployInter.fn.addRow(id,name,when,where,deployPluginId,deployUrl,httpRequestId,deployParams,updateStatus,emailNoticeId,isUploadImage,message,status,siteIdByURL,labelByURL)}removeLoading($("#"+dataDeployInter.v.formId))},dataDeployInter.v.webCrawlerId,dataDeployInter.v.siteId)},edit:function(id){var deployInterJson=dataDeployInter.v.jsonData;for(var i in deployInterJson){if(isNaN(i)){continue}if(deployInterJson[i]["id"]==id){$("#"+dataDeployInter.v.formId).find("#id").val(deployInterJson[i]["id"]);$("#"+dataDeployInter.v.formId).find("#name").val(deployInterJson[i]["name"]);$("#"+dataDeployInter.v.formId).find("#deployUrl").val(deployInterJson[i]["deployUrl"]);$("#"+dataDeployInter.v.formId).find("#deployParams").val(deployInterJson[i]["deployParams"]);$("#"+dataDeployInter.v.formId).find("#httpRequestId").val(deployInterJson[i]["httpRequestId"]);$("#"+dataDeployInter.v.formId).find("#deployPluginId").val(deployInterJson[i]["deployPluginId"]);$("#"+dataDeployInter.v.formId).find("#emailNoticeId").val(deployInterJson[i]["emailNoticeId"]);$("#"+dataDeployInter.v.formId).find("#message").val(deployInterJson[i]["message"]);$("#"+dataDeployInter.v.formId).find("#status").val(deployInterJson[i]["status"]);$("#"+dataDeployInter.v.formId).find("#siteIdByURL").val(deployInterJson[i]["siteIdByURL"]);$("#"+dataDeployInter.v.formId).find("#labelByURL").val(deployInterJson[i]["labelByURL"]);$("#"+dataDeployInter.v.formId).find("#crawlRulesVerId").val(deployInterJson[i]["rulesVerId"]);dataDeployInter.fn.changeRulesVer(deployInterJson[i]["rulesVerId"]);var isUploadImage=deployInterJson[i]["isUploadImage"];if(isUploadImage=="Y"){$("#"+dataDeployInter.v.formId).find("#uploadImageTable").css({display:"block"});var len=$("#"+dataDeployInter.v.formId).find("#fileSavePluginId option[value='"+deployInterJson[i]["fileSavePluginId"]+"']").length;if(len<1){$("#"+dataDeployInter.v.formId).find("#fileSavePluginId").append("<option value=''/></option>")}$("#"+dataDeployInter.v.formId).find("#fileSavePluginId").val(deployInterJson[i]["fileSavePluginId"]);$("#"+dataDeployInter.v.formId).find("#fileSavePluginRegex").val(deployInterJson[i]["fileSavePluginRegex"]);$("#"+dataDeployInter.v.formId).find("#fileSaveSubDir").val(deployInterJson[i]["fileSaveSubDir"]);$("#"+dataDeployInter.v.formId).find("#imageLabels").val(deployInterJson[i]["imageLabels"])}else{isUploadImage="N";$("#"+dataDeployInter.v.formId).find("#uploadImageTable").css({display:"none"});$("#"+dataDeployInter.v.formId).find("#fileSavePluginId").val("");$("#"+dataDeployInter.v.formId).find("#fileSavePluginRegex").val("<\\s*img[^<]+src=[\"'](.*?)[\"'][^<]*?>");$("#"+dataDeployInter.v.formId).find("#fileSaveSubDir").val("");$("#"+dataDeployInter.v.formId).find("#imageLabels").val("")}selectCheckbox(dataDeployInter.v.formId,"isUploadImage",isUploadImage);selectRadio(dataDeployInter.v.formId,"when",deployInterJson[i]["when"]);selectRadio(dataDeployInter.v.formId,"where",deployInterJson[i]["where"]);selectRadio(dataDeployInter.v.formId,"updateStatus",deployInterJson[i]["updateStatus"]);dataDeployInter.fn.changeWhere(deployInterJson[i]["where"]);var isUpdateUrlStatus=deployInterJson[i]["isUpdateUrlStatus"];selectCheckbox(dataDeployInter.v.formId,"isUpdateUrlStatus",isUpdateUrlStatus);dataDeployInter.fn.showTable($("#"+dataDeployInter.v.formId).find("#isUpdateUrlStatus")[0],"updateUrlStatusTable");$("#"+dataDeployInter.v.formId).find("#urlStatus").val(deployInterJson[i]["urlStatus"]);if(dataDeployInter.v.index!=1){dataDeployInter.v.index=1;$(".definitionConditionRules").each(function(index){if(this.id=="conditionRulesDiv1"){$("#"+dataDeployInter.v.formId).find(".addLabel").clone().appendTo("#"+dataDeployInter.v.formId+" #"+this.id)}else{$(this).remove()}})}var conditionRules=deployInterJson[i].conditionRules;conditionRules=eval(conditionRules);for(var i in conditionRules){if(isNaN(i)){continue}var newDiv=null;if(i==0){newDiv=$("#"+dataDeployInter.v.formId).find("#conditionRulesDiv1")}else{newDiv=dataDeployInter.fn.addConditionRulesDiv()}newDiv.find("input[type=checkbox][name='cus_regex']").each(function(){if($(this).val()==conditionRules[i]["cus_regex"]){this.checked=true}else{this.checked=false}});newDiv.find("#cus_label").val(conditionRules[i]["cus_label"]);newDiv.find("#cus_contain").val(conditionRules[i]["cus_contain"]);newDiv.find("#cus_data").val(conditionRules[i]["cus_data"]);newDiv.find(" input[type=radio][value='"+conditionRules[i]["cus_condition"]+"']").attr("checked",true)}break}}},deploy:function(){var a=getRadio(dataDeployInter.v.formId,"dataDeployList");if(a==null||a.length==0){showInfo(nc.i18n("res.select"));return false}if(dataDeployInter.v.siteId==null){showInfo(nc.i18n("res.site.select"));return}showLoading($("#"+dataDeployInter.v.formId));jsonrpc.dataDeployService.test(function(b,c,d){removeLoading($("#"+dataDeployInter.v.formId));if(c){return}var e=b;showInfo(e)},dataDeployInter.v.webCrawlerId,dataDeployInter.v.siteId,a)},create:function(){if(dataDeployInter.v.siteId==null){showInfo(nc.i18n("res.site.select"));return}var v=$("#"+dataDeployInter.v.formId).find("#name").val();var k=getRadio(dataDeployInter.v.formId,"when");var q=getRadio(dataDeployInter.v.formId,"where");var f=getRadio(dataDeployInter.v.formId,"updateStatus");if(v==null||v==""){showInfo(nc.i18n("res.null.name"));$("#"+dataDeployInter.v.formId).find("#name").focus();return}var d=$("#"+dataDeployInter.v.formId).find("#deployUrl").val();var n=$("#"+dataDeployInter.v.formId).find("#deployParams").val();var g=$("#"+dataDeployInter.v.formId).find("#httpRequestId").val();var j=$("#"+dataDeployInter.v.formId).find("#deployPluginId").val();var p=$("#"+dataDeployInter.v.formId).find("#emailNoticeId").val();var r=$("#"+dataDeployInter.v.formId).find("#message").val();var s=$("#"+dataDeployInter.v.formId).find("#status").val();var i=$("#"+dataDeployInter.v.formId).find("#siteIdByURL").val();var a=$("#"+dataDeployInter.v.formId).find("#labelByURL").val();var b=$("#"+dataDeployInter.v.formId).find("#crawlRulesVerId").val();if(q=="1"){j=null;p=null;i=null;a=null;if(d==null||d==""){showInfo(nc.i18n("res.null.deploy.url"));$("#"+dataDeployInter.v.formId).find("#deployUrl").focus();return}if(d.toUpperCase().indexOf("HTTP://")==-1){showInfo(nc.i18n("res.invalid.deploy.url"));$("#"+dataDeployInter.v.formId).find("#deployUrl").focus();return}}else{if(q=="2"){p=null;i=null;a=null}else{if(q=="3"){d=null;n=null;g=null;j=null;r=null;i=null;a=null}else{if(q=="4"){d=null;n=null;g=null;j=null;r=null;p=null}}}}var u=$("#"+dataDeployInter.v.formId).find("#fileSavePluginId").val();var m=$("#"+dataDeployInter.v.formId).find("#fileSavePluginRegex").val();var e=$("#"+dataDeployInter.v.formId).find("#fileSaveSubDir").val();var h=$("#"+dataDeployInter.v.formId).find("#imageLabels").val();var o=getCheckbox(dataDeployInter.v.formId,"isUploadImage");if(o!="Y"){o="N";u="";m="";e="";h=""}else{if(u==null||u==""){showInfo(nc.i18n("res.null.plugin.filesave"));return}}var c=getCheckbox(dataDeployInter.v.formId,"isUpdateUrlStatus");var t=null;var l=$("#"+dataDeployInter.v.formId).find("#urlStatus").val();if(c=="Y"&&l!=null&&l!=""){t=dataDeployInter.fn.readConditionRules()}else{c="N";l=null}showLoading($("#"+dataDeployInter.v.formId));jsonrpc.dataDeployService.create(function(w,A,B){removeLoading($("#"+dataDeployInter.v.formId));if(A){return}var D=w;if(isNaN(D)){showInfo(nc.i18n("res.create.failure"));return}var z=""+dataDeployInter.v.webCrawlerId;var x=dataDeployMap.get(z);if(x!=null){x.put(D,v)}var C=$("#"+dataDeployInter.v.formId).find("#deployUrl").val();if(dataDeployInter.v.jsonData==null){dataDeployInter.v.jsonData=new Array()}var y={id:D,name:v,deployUrl:C,when:k,where:q,deployParams:n,updateStatus:f,emailNoticeId:p,httpRequestId:g,deployPluginId:j,isUploadImage:o,fileSavePluginId:u,fileSavePluginRegex:m,imageLabels:h,status:s,siteIdByURL:i,labelByURL:a,fileSaveSubDir:e,isUpdateUrlStatus:c,conditionRules:t,urlStatus:l};dataDeployInter.v.jsonData.push(y);dataDeployInter.fn.addRow(D,v,k,q,j,C,g,n,f,p,o,r,s,i,a);showInfo(nc.i18n("res.create.success"))},dataDeployInter.v.webCrawlerId,d,k,q,dataDeployInter.v.siteId,v,n,g,j,f,p,o,u,h,r,s,m,i,a,e,b,c,t,l)},update:function(){var s=$("#"+dataDeployInter.v.formId).find("#id").val();if(dataDeployInter.v.siteId==null){showInfo(nc.i18n("res.site.select"));return}if(s==null||s.length==0){showInfo(nc.i18n("res.select"));return}var w=$("#"+dataDeployInter.v.formId).find("#name").val();var k=getRadio(dataDeployInter.v.formId,"when");var q=getRadio(dataDeployInter.v.formId,"where");var f=getRadio(dataDeployInter.v.formId,"updateStatus");if(w==null||w==""){showInfo(nc.i18n("res.null.name"));$("#"+dataDeployInter.v.formId).find("#name").focus();return}var d=$("#"+dataDeployInter.v.formId).find("#deployUrl").val();var n=$("#"+dataDeployInter.v.formId).find("#deployParams").val();var g=$("#"+dataDeployInter.v.formId).find("#httpRequestId").val();var j=$("#"+dataDeployInter.v.formId).find("#deployPluginId").val();var p=$("#"+dataDeployInter.v.formId).find("#emailNoticeId").val();var r=$("#"+dataDeployInter.v.formId).find("#message").val();var t=$("#"+dataDeployInter.v.formId).find("#status").val();var i=$("#"+dataDeployInter.v.formId).find("#siteIdByURL").val();var a=$("#"+dataDeployInter.v.formId).find("#labelByURL").val();var b=$("#"+dataDeployInter.v.formId).find("#crawlRulesVerId").val();if(q=="1"){j=null;p=null;i=null;a=null;if(d==null||d==""){showInfo(nc.i18n("res.null.deploy.url"));$("#"+dataDeployInter.v.formId).find("#deployUrl").focus();return}if(d.toUpperCase().indexOf("HTTP://")==-1){showInfo(nc.i18n("res.invalid.deploy.url"));$("#"+dataDeployInter.v.formId).find("#deployUrl").focus();return}}else{if(q=="2"){p=null;i=null;a=null}else{if(q=="3"){d=null;n=null;g=null;j=null;r=null;i=null;a=null}else{if(q=="4"){d=null;n=null;g=null;j=null;r=null;p=null}}}}var v=$("#"+dataDeployInter.v.formId).find("#fileSavePluginId").val();var m=$("#"+dataDeployInter.v.formId).find("#fileSavePluginRegex").val();var e=$("#"+dataDeployInter.v.formId).find("#fileSaveSubDir").val();var h=$("#"+dataDeployInter.v.formId).find("#imageLabels").val();var o=getCheckbox(dataDeployInter.v.formId,"isUploadImage");if(o!="Y"){o="N";v="";m="";e="";h=""}else{if(v==null||v==""){showInfo(nc.i18n("res.null.plugin.filesave"));return}}var c=getCheckbox(dataDeployInter.v.formId,"isUpdateUrlStatus");var u=null;var l=null;if(c=="Y"){l=$("#"+dataDeployInter.v.formId).find("#urlStatus").val();u=dataDeployInter.fn.readConditionRules()}else{c="N"}showLoading($("#"+dataDeployInter.v.formId));jsonrpc.dataDeployService.update(function(x,A,B){removeLoading($("#"+dataDeployInter.v.formId));if(A){return}var C=x;if(C){dataDeployInter.fn.query();showInfo(nc.i18n("res.update.success"));var z=""+dataDeployInter.v.webCrawlerId;var y=dataDeployMap.get(z);if(y!=null){y.put(s,w)}}else{showInfo(nc.i18n("res.update.failure"))}},dataDeployInter.v.webCrawlerId,s,d,k,q,dataDeployInter.v.siteId,w,n,g,j,f,p,o,v,h,r,t,m,i,a,e,b,c,u,l)},remove:function(a){var a=getRadio(dataDeployInter.v.formId,"dataDeployList");if(a==null||a.length==0){showInfo(nc.i18n("res.select"));return false}if(!confirm(nc.i18n("res.remove.confirm"))){return}showLoading($("#"+dataDeployInter.v.formId));jsonrpc.dataDeployService.remove(function(b,c,d){removeLoading($("#"+dataDeployInter.v.formId));if(c){return}var e=b;if(e){dataDeployInter.fn.query();showInfo(nc.i18n("res.remove.success"))}else{showInfo(nc.i18n("res.remove.failure"))}},dataDeployInter.v.webCrawlerId,dataDeployInter.v.siteId,a)},changeWhere:function(a){if(a=="1"){$("#"+dataDeployInter.v.formId).find("#deployUrlTr").css("display","");$("#"+dataDeployInter.v.formId).find("#deployParamsTr").css("display","");$("#"+dataDeployInter.v.formId).find("#uploadImageTr").css("display","");$("#"+dataDeployInter.v.formId).find("#httpRequestIdTr").css("display","");$("#"+dataDeployInter.v.formId).find("#deployMessageTr").css("display","");$("#"+dataDeployInter.v.formId).find("#deployPluginIdTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#emailNoticeIdTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#siteIdTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#rulesIdTr").css("display","none");$("#"+dataDeployInter.v.formId).find(".descTr").css("display","");$("#"+dataDeployInter.v.formId).find("#crawlRulesVerIdTr").css("display","")}else{if(a=="2"){$("#"+dataDeployInter.v.formId).find("#deployUrlTr").css("display","");$("#"+dataDeployInter.v.formId).find("#deployParamsTr").css("display","");$("#"+dataDeployInter.v.formId).find("#uploadImageTr").css("display","");$("#"+dataDeployInter.v.formId).find("#httpRequestIdTr").css("display","");$("#"+dataDeployInter.v.formId).find("#deployPluginIdTr").css("display","");$("#"+dataDeployInter.v.formId).find("#deployMessageTr").css("display","");$("#"+dataDeployInter.v.formId).find("#emailNoticeIdTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#siteIdTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#rulesIdTr").css("display","none");$("#"+dataDeployInter.v.formId).find(".descTr").css("display","");$("#"+dataDeployInter.v.formId).find("#crawlRulesVerIdTr").css("display","")}else{if(a=="3"){$("#"+dataDeployInter.v.formId).find("#deployUrlTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#deployParamsTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#uploadImageTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#httpRequestIdTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#deployPluginIdTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#deployMessageTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#emailNoticeIdTr").css("display","");$("#"+dataDeployInter.v.formId).find("#siteIdTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#rulesIdTr").css("display","none");$("#"+dataDeployInter.v.formId).find(".descTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#crawlRulesVerIdTr").css("display","")}else{if(a=="4"){$("#"+dataDeployInter.v.formId).find("#deployUrlTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#deployParamsTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#uploadImageTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#httpRequestIdTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#deployPluginIdTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#deployMessageTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#emailNoticeIdTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#siteIdTr").css("display","");$("#"+dataDeployInter.v.formId).find("#rulesIdTr").css("display","");$("#"+dataDeployInter.v.formId).find(".descTr").css("display","none");$("#"+dataDeployInter.v.formId).find("#crawlRulesVerIdTr").css("display","")}}}}},addRow:function(r,x,j,n,i,b,e,k,c,m,l,o,t,h,a){var w=nc.i18n("res.deploy.when1");if(j=="2"){w=nc.i18n("res.deploy.when2")}var g=nc.i18n("res.yes");if(c=="2"){g=nc.i18n("res.no")}var s=nc.i18n("res.yes");if(l!="Y"){s=nc.i18n("res.no")}var f=getSelectText(dataDeployInter.v.formId,"deployPluginId",i);var v=getSelectText(dataDeployInter.v.formId,"httpRequestId",e);var p=getSelectText(dataDeployInter.v.formId,"emailNoticeId",m);var d=getSelectText(dataDeployInter.v.formId,"status",t);var q=getSelectText(dataDeployInter.v.formId,"siteIdByURL",h);var d=getSelectText(dataDeployInter.v.formId,"status",t);var u="<tr class='simplehighlight'>";u+='<td nowrap>&nbsp;<input type="radio" name="dataDeployList" id="dataDeployList" value="'+r+'" onClick="dataDeployInter.fn.edit('+r+')"/></td>';u+="<td nowrap>&nbsp;&nbsp;&nbsp;"+x+"</td>";u+="<td nowrap>"+d+"</td>";u+="<td nowrap>"+g+"</td>";u+="<td nowrap>"+w+"</td>";u+="<td nowrap>";if(n=="1"){u+=nc.i18n("res.deploy.where1")+"<br/>";u+=nc.i18n("res.deploy.where1.url")+b+"<br/>";u+=nc.i18n("res.deploy.where1.params")+k+"<br/>";u+=nc.i18n("res.deploy.where1.httpRequest")+v+"<br/>";u+=nc.i18n("res.deploy.where1.message")+o+"<br/>";u+=nc.i18n("res.deploy.where1.saveFile")+s+"<br/>"}else{if(n=="2"){u+=nc.i18n("res.deploy.where2")+"<br/>";u+=nc.i18n("res.deploy.where2.plugin")+f+"<br/>";u+=nc.i18n("res.deploy.where1.url")+b+"<br/>";u+=nc.i18n("res.deploy.where1.params")+k+"<br/>";u+=nc.i18n("res.deploy.where1.httpRequest")+v+"<br/>";u+=nc.i18n("res.deploy.where1.message")+o+"<br/>";u+=nc.i18n("res.deploy.where1.saveFile")+s+"<br/>"}else{if(n=="3"){u+=nc.i18n("res.deploy.where3")+"<br/>";u+=nc.i18n("res.deploy.where3.email")+p+"<br/>"}else{if(n=="4"){u+=nc.i18n("res.deploy.where4")+"<br/>";u+=nc.i18n("res.deploy.where4.site")+q+"<br/>";u+=nc.i18n("res.deploy.where4.label")+a+"<br/>"}}}}u+="</td>";u+="</tr>";$(u).appendTo("#"+dataDeployInter.v.tableId);$("#"+dataDeployInter.v.tableId).find("tr:odd").css("background","#FFFFFF");$("#"+dataDeployInter.v.tableId).find("tr:even").css("background","rgb(247, 247, 247)");$("#"+dataDeployInter.v.tableId).find(".simplehighlight").hover(function(){$(this).children().addClass("datahighlight")},function(){$(this).children().removeClass("datahighlight")})},addConditionRulesDiv:function(){var c=dataDeployInter.v.index;dataDeployInter.v.index=c+1;var a=$("#"+dataDeployInter.v.formId).find("#conditionRulesDiv"+c).clone();a.attr("id","conditionRulesDiv"+dataDeployInter.v.index);a.find(".conditionRules").remove();var b='<div class="conditionRules" style="height: 25px; margin-top: 6px;float: left;width: 100px;"><input type="radio" name="cus_condition'+dataDeployInter.v.index+'" value="or">OR <input type="radio" name="cus_condition'+dataDeployInter.v.index+'"  value="and">AND</div>';a.prepend(b);a.appendTo("#"+dataDeployInter.v.formId+" .conditionRulesDiv");$("#"+dataDeployInter.v.formId).find("#conditionRulesDiv"+c).find(".addLabel").remove();a.find("#cus_label").val("");a.find("input[type=checkbox][name='cus_regex']").each(function(){this.checked=false});a.find("#cus_contain").val("Y");a.find("#cus_data").val("");a.find(" input[type=radio][value='or']").attr("checked",true);return a},readConditionRules:function(){var a=null;$(".conditionRulesLeft").each(function(d){var c=$(this).find("#cus_label").val();var h=$(this).find("#cus_data").val();if(c!=null&&c!=""&&h!=null&&h!=""){var b=$(this).parent().find("input[type=radio]:checked").val();var g=$(this).find("#cus_contain").val();var f=$(this).find("input[type=checkbox][name='cus_regex']:checked").val();if(f==undefined||f=="undefined"){f=""}if(b==undefined||b=="undefined"){b=""}h=replaceJsonStr(h);var e='{"cus_regex":"'+f+'", "cus_label":"'+c+'", "cus_contain":"'+g+'", "cus_data":"'+h+'", "cus_condition":"'+b+'"}';if(a==null){a=e}else{a=a+","+e}}});if(a!=null){a="["+a+"]"}return a},advancedSettings:function(){$("#"+dataDeployInter.v.formId).find("#advanced-settings-expander").val("{...}");$("#"+dataDeployInter.v.formId).find("#advanced-settings-expander").unbind("click");$("#"+dataDeployInter.v.formId).find(".advanced-settings").css({display:"none"});$("#"+dataDeployInter.v.formId).find("#advanced-settings-expander").click(function(){var a=$("#"+dataDeployInter.v.formId).find(".advanced-settings").css("display");if(a=="none"){$("#"+dataDeployInter.v.formId).find(".advanced-settings").css({display:""})}else{$("#"+dataDeployInter.v.formId).find(".advanced-settings").css({display:"none"})}})}}};