var install={v:{tableId:"appInstall",logTimer:null,opt:{error:function(a){removeLoading($("#"+install.v.tableId));$("#"+install.v.tableId).find("#Log").html(a)}}},fn:{execute:function(){showLoading($("#"+install.v.tableId));var a="../../member/appinstall?setup=1";$("#"+install.v.tableId).find("#Log").text("");jx.load(a,function(b){removeLoading($("#"+install.v.tableId));if(b.code!="200"){$("#"+install.v.tableId).find("#Log").html(b.message)}else{install.fn.deploy(b.message)}},"json","GET",install.v.opt)},deploy:function(c){var d=$("#"+install.v.tableId).find("#appid").val();var b=$("#"+install.v.tableId).find("#email").val();var a=$("#"+install.v.tableId).find("#password").val();if(install.v.logTimer!=null){clearTimeout(install.v.logTimer)}if(b==null||b==undefined||b=="undefined"){b=""}if(a==null||a==undefined||a=="undefined"){a=""}var g="../../member/appinstall?setup=2&app=crawler&appid="+d+"&email="+b+"&password="+a+"&uuid="+c;try{showLoading($("#"+install.v.tableId));jx.load(g,function(e){removeLoading($("#"+install.v.tableId));if(e.code=="407"){$("#"+install.v.tableId).find("#Log").html(e.message)}else{if(e.code=="408"){$("#"+install.v.tableId).find("#Log").html(e.message);setTimeout(function(){install.fn.deploy(c)},1500)}else{if(e.code=="409"){$("#"+install.v.tableId).find("#Log").html(e.message)}else{if(e.code!="200"){$("#"+install.v.tableId).find("#Log").html(e.message)}else{install.v.logTimer=setTimeout(function(){install.fn.log(c)},1500)}}}}},"json","GET",install.v.opt)}catch(f){}},log:function(b){var a={error:function(d){if(install.v.logTimer!=null){clearTimeout(install.v.logTimer)}$("#"+install.v.tableId).find("#Log").html(d)}};var c="../../member/appinstall?setup=3&uuid="+b;jx.load(c,function(d){if(d!="finished."){$("#"+install.v.tableId).find("#Log").text(d);install.v.logTimer=setTimeout(function(){install.fn.log(b)},1500)}else{jx.load("../../member/appinstall?setup=4",null,null,"GET",a)}},null,"GET",a)}}};