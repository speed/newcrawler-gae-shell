var tabTemplate="<li><a href='#{href}' title='#{label}' style='cursor: default;'>#{label}</a><span class='stCloseBtn' style='float:right;'><span class='ui-icon ui-icon-close' title='Close this tab'>Close</span></span></li>";function addTab(b,a){var c=tabTemplate.replace(/#\{href\}/g,a).replace(/#\{label\}/g,b);$("#tabsview").tabs("add",c)}function createTab(a,b){if(selectTab(a)){return false}addTab(b,a)}function selectTab(b){var a=false;$("#tabsview >ul >li >a").each(function(d){var f=$(this).attr("href");if(f){if(f==b||f.endsWith(b)){a=true;var c=$tabs.tabs("option","active",d);var e=$("#tabsview > .ui-layout-content > div.ui-tabs-panel[aria-hidden='false']").find(".ol_loading_mask");if(e.length>0){return false}$("#tabsview > .ui-layout-content > div.ui-tabs-panel[aria-hidden='false']").append('<div class="ol_loading_mask"></div><div class="ol_loading"></div>');$tabs.tabs("reload",d);return false}}});return a}$.extend($.ui.tabs.prototype,{load:function(b,f){b=this._getIndex(b);var e=this,c=this.tabs.eq(b),a=this._getPanelForTab(c);var d=a.html();if(d==null||""==d){this.reload(b,f)}},reload:function(d,h){d=this._getIndex(d);var g=this,e=this.tabs.eq(d),c=e.find(".ui-tabs-anchor"),b=this._getPanelForTab(e),f={tab:e,panel:b},a=function(j,i){if(i==="abort"){g.panels.stop(false,true)}e.removeClass("ui-tabs-loading");b.removeAttr("aria-busy");if(j===g.xhr){delete g.xhr}};if(this._isLocal(c[0])){return}this.xhr=$.ajax(this._ajaxSettings(c,h,f));if(this.xhr&&this.xhr.statusText!=="canceled"){e.addClass("ui-tabs-loading");b.attr("aria-busy","true");this.xhr.done(function(j,i,k){setTimeout(function(){b.append(j);g._trigger("load",h,f);a(k,i)},1)}).fail(function(j,i){setTimeout(function(){a(j,i)},1)})}}});function initTabs(){$tabs=$("#tabsview").tabs({closable:true,cache:true,ajaxOptions:{async:true,cache:true},beforeLoad:function(d,e){var c=this,b=e.tab;var a=function(g,f){if(f==="abort"){c.panels.stop(false,true)}b.removeClass("ui-tabs-loading");e.panel.removeAttr("aria-busy");if(g===c.xhr){delete c.xhr}};$(e.panel).html('<div><div class="ol_loading_mask"></div><div class="ol_loading"></div></div>');e.jqXHR.fail(function(g,f){e.panel.html("Couldn't load this tab. We'll try to fix this as soon as possible. If this wouldn't be a demo.")})},load:function(a,b){$(":button:not(.link-button)").addClass("jfk-button jfk-button-standard");$(":checkbox").addClass("jfk-checkbox");loadConfig=false;initConfigBox()}});$tabs.tabs("overflowResize").find(".ui-tabs-nav").sortable({distance:10});$tabs.delegate("span.ui-icon-close","click",function(){var a=$(this).closest("li").index();$("#tabsview").tabs("remove",a)})};