<html>
  <head>
  	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>邮件模板</title>
	</head>
  <body>
	
    <table width="100%">     
	  <tr>
        <td colspan="2" class="label"  style="display: none;"><br/><span class="STYLE4" id="mainTitle">邮件模板</span></td>        
      </tr>
      <tr>
	  <td  valign="top" >
	  <form  id="emailNoticeForm" name="emailNoticeForm" method="post">
	   <input type="hidden" id="id" name="id" value=""></input>
	  <table width="100%" height="100%" class="table_border2">
	  <tr>
        <td width="120"  align="right" class="label">名称：</td>
        <td class="td_border">
        <div class="inputOver">
        <input name="name"  type="text" id="name" value=""  style="width:100%"/>
        </div>
        </td>
      </tr>
      
	  <tr>
        <td width="120"  align="right" class="label"><a class="tooltip" title="用来接收信息的邮箱地址"  href="javascript:void(0);">接收邮箱：</a></td>
        <td class="td_border">
        <div class="inputOver">
        <input name="toEmail"  type="text" id="toEmail" value=""  style="width:100%"/>
        </div>
        </td>
      </tr>
      <tr>
        <td width="120"  align="right" class="label">邮件主题：</td>
        <td class="td_border">
        <div class="inputOver">
        <input name="tempTitle"  type="text" id="tempTitle" value=""  style="width:100%"/>
        </div>
        </td>
      </tr>
      
      <tr>
        <td width="120"  align="right" class="label">选项：</td>
        <td class="td_border">
        	<input id="isAttachment" name="isAttachment" type="checkbox" value="Y">附件方式发送
        </td>
      </tr>
      
      <tr>
        <td width="120"  align="right" class="label">正文模板：</td>
        <td style="background-color: #FFFFFF;">
        <textarea  name="tempContent" id="tempContent"   style="width:100%;height:300px;background:url(../../static/js/xheditor-1.1.14/demobg.jpg) no-repeat right bottom fixed" ></textarea>
        </td>
      </tr>
      
      <tr>
        <td ></td>
        <td class="td_border" >
       		<input type="button" value="添加" class="create">
			<input type="button" value="删除" class="remove">
			<input type="button" value="更新" class="update">
			<input type="button" value="邮件发送测试" class="testEmail">
			
        </td>
      </tr>
      <tr>
      <td ></td>
      <td align="left" style="padding:0px 5px 5px 5px;color:red;" >
      <br/>
      	注意：在发送邮件通知时，会使用模板中的格式，模板支持HTML标记，使用'${标签名}'的格式来读取采集规则匹配到的数据。
      </td>
      </tr>
       <tr>
			<td colspan="2">
				<table id="emailNoticeTable" width="100%" align="center" class="table_border2 tableList" style="border:1px solid #CCCCCC;border-collapse:collapse;background-color: #FFFFFF;">
					<tr>
						<td width="5%" nowrap bgcolor="whiteSmoke">&nbsp;选择</td>
						<td width="10%" nowrap bgcolor="whiteSmoke">&nbsp;&nbsp;&nbsp;名称</td>
						<td width="75%" nowrap bgcolor="whiteSmoke">详细</td>
						<td width="10%" nowrap bgcolor="whiteSmoke">建立时间</td>
					</tr>
				</table>
			</td>
		</tr>
      
	  </table>
	   </form>
	  </td>
	  </tr>
	  
	 
  </table>
  <script type="text/javascript">
  $(document).ready(function() { 
	  var initFun = function(){
		  var containId;
		  if (!loadConfig) {
			  containId=$(document).find("#emailNoticeTable").parents('.ui-tabs-panel').attr("id");
		  }else{
			  containId="config";
		  }
		  var formId=containId+' #emailNoticeForm';
		  var tableId=containId+' #emailNoticeTable';
		  var emailNotice=new emailNoticeFun({
			  containId:containId,
			  webCrawlerId:webCrawlerId,
				jsonData:new Array(),
				formId:formId,
				tableId:tableId
		  });
		  emailNotice.fn.init();
		  emailNotice.fn.query(function(){reConfigBoxSize();});
		  poshytip('.tooltip');
		  $("#"+emailNotice.v.formId).find("#tempContent").xheditor();
	};
	
	var initLoading=setInterval(function(){
		if(typeof emailNotice != 'undefined'){
			clearInterval(initLoading);
			initFun();
		}
	},500);
});
  </script>
  </body>
</html>
