<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>采集器設置</title>
</head>
  <body>
    <table width="100%">
    <tr>
        <td colspan="2" class="label"><br/><span class="STYLE4">爬蟲池配置 </span></td>        
      </tr>
      <tr>
	  <td width="100%" valign="top">
	  <form  method="post" id="spiderConfigForm" name="spiderConfigForm">
	  <table width="100%" height="100%" class="table_border2">
      <tr>
        <td width="120" align="right" nowrap class="label">活躍爬蟲數量：</td>
        <td class="td_border">
        <div class="inputOver">
        <input type="text" id="system.property.pool.size" name="system.property.pool.size" style="width:100%" onkeypress="return event.keyCode>=48&&event.keyCode<=57" onblur="this.value=this.value.replace(/[^0-9]/g,'')"/>
        </div>
        </td>
      </tr>
      
      <tr>
        <td width="120" align="right" nowrap class="label">負載均衡方式：</td>
        <td class="td_border">
        <div class="inputOver">
        	<select name="system.property.pool.lbs" id="system.property.pool.lbs">
				<option value="1" selected="selected">順序選擇</option>
				<option value="2">隨機選擇</option>
				<option value="3">爬蟲速率</option>
			</select>
        </div>
        </td>
      </tr>
      
      <tr>
        <td ></td>
        <td class="td_border">
        <input type="button" value="保存" onClick="siteSpider.fn.saveSpiderConfig();">
        </td>
      </tr>
	  </table>
	   </form>
	  </td>
	  </tr>
    
     <tr>
        <td colspan="2" class="label" height="30px" valign="bottom"><span class="STYLE4">爬蟲配置</span></td>        
      </tr>
      <tr>
	  <td colspan="2" width="100%" valign="top">
	  <form  id="spiderForm" name="spiderForm" method="post">
	  <input type="hidden" id="id" name="id">
	  <table width="100%" height="100%" class="table_border2" id="siteSpiderTable">
	  <tr>
        <td width="120" align="right" nowrap class="label">APP URL：</td>
        <td class="td_border">
        <div class="inputOver">
        <input type="text" id="url" name="url" style="width:100%" />
        </div>
        </td>
      </tr>
      
      <tr>
        <td width="120" align="right" nowrap class="label">訪問密鑰：</td>
        <td class="td_border">
        <div class="inputOver">
        <input type="text" id="rpcAuth" name="rpcAuth" style="width:200px;" maxlength="20" />
        </div>
        </td>
      </tr>
      
      <tr>
        <td width="120" align="right" nowrap class="label">速率：</td>
        <td class="td_border">
        	<div style="float:left;width:200px;padding-top:5px;"><div id="rateSlider" ></div></div>
			<div style="float:left;width:40px;margin-left: 10px;"><input id="rate" type="text" name="rate" value="" style="border: 0; color: #f6931f; font-weight: bold;" readonly="readonly"/></div>
        </td>
      </tr>
      <tr>
        <td ></td>
        <td class="td_border">
        <input type="button" value="添加" onClick="siteSpider.fn.create();">
        <input type="button" value="刪除" onClick="siteSpider.fn.remove();">
        <input type="button" value="更新" onClick="siteSpider.fn.update();">
		</td>
      </tr>
      
      <tr>
			<td colspan="5">
			
				<div style="padding:0px 2px 2px 2px;" id="siteSpiderTable" >
				<table id="siteSpiderList" width="100%" align="center" class="table_border2 tableList" style="border:1px solid #CCCCCC;border-collapse:collapse;background-color: #FFFFFF;">
					<tr>
						<td width="3%" nowrap bgcolor="whiteSmoke">&nbsp;選擇</td>
						<td width="5%" nowrap bgcolor="whiteSmoke">狀態</td>
						<td width="26%" nowrap bgcolor="whiteSmoke">APP URL</td>
						<td width="8%" nowrap bgcolor="whiteSmoke">版本</td>
						<td width="8%" nowrap bgcolor="whiteSmoke">訪問密鑰</td>
						<td width="8%" nowrap bgcolor="whiteSmoke">速率</td>
						<td width="8%" nowrap bgcolor="whiteSmoke">建立時間</td>
						<td width="8%" nowrap bgcolor="whiteSmoke">每日抓取URL數</td>
						<td width="8%" nowrap bgcolor="whiteSmoke">抓取URL總數</td>
						<td width="8%" nowrap bgcolor="whiteSmoke">抓取URL失敗總數</td>
						<td width="8%" nowrap bgcolor="whiteSmoke">文件下載失敗總數</td>
					</tr>
				</table>
				
				<div id="line" style="height:5px;"></div>
				<div id="hiddenresult" style="display:none;">
		        
		        </div>
				<div id="Pagination"></div>
				 </div>
			</td>
		</tr>
		<tr>
		  <td align="left" style="padding:5px 5px 0px 5px;"  colspan="5">
		  	 記錄總數(<label id="URL_COUNT" style="color:red;">0</label>)  <label style="color: rgb(34, 102, 187);cursor: pointer;" class="statistic">重新統計</label>
		  </td>
		 </tr>
      
	  </table>
	   </form>	  
	   </td>
      </tr>
      
  </table>
	<script type="text/javascript">
		$(document).ready(function() {
			var initFun = function() {
				siteSpider.v.webCrawlerId = webCrawlerId;
				siteSpider.v.spiderJson = new Array();

				poshytip('.tooltip');
				siteSpider.fn.init();
			};

			var initLoading=setInterval(function(){
				if(typeof siteSpider != 'undefined'){
					clearInterval(initLoading);
					initFun();
				}
			},500);
		});
	</script>
</body>
</html>
